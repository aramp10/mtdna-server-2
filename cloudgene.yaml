id: nf-mitocalling
name: Mitochondrial Variant calling and QC
description: This is the new mtDNA-Server.
version: v2.0.0-beta1
website: https://mitoverse.readthedocs.io/
category:

workflow:
  steps:
    - name: mtDNA QC, Variant Calling and Interactive Reporting
      type: nextflow
      script: main.nf
      # params without UI
      params:
        project: "${CLOUDGENE_JOB_NAME}"
        user:
          email: "${CLOUDGENE_USER_EMAIL}"
          name: "${CLOUDGENE_USER_NAME}"
        service:
          name: "${CLOUDGENE_SERVICE_NAME}"
          email: "${CLOUDGENE_CONTACT_EMAIL}"
          url: "${CLOUDGENE_SERVICE_URL}"
      processes:
        - process: "MITOCALLING:MUTSERVE"
          label: "Variant Calling"
        - process: "MITOCALLING:ANNOTATE"
          label: "Annotation"
        - process: "MITOCALLING:HAPLOGROUP_CLASSIFYING"
          label: "Haplogroup Detection"
        - process: "MITOCALLING:CONTAMINATION_DETECTION"
          label: "Contamination Detection"
        - process: "MITOCALLING:REPORT"
          label: "Report Generation"

  inputs:

    - id: files
      description: Input Files (<a href="http://www.1000genomes.org/wiki/Analysis/Variant%20Call%20Format/vcf-variant-call-format-version-41" target="_blank">VCF</a>)
      type: local-folder
      pattern: "*.bam"

    - id: mode
      description: Mode
      type: list
      value: mutserve
      values:
        mutserve: SNPs only
        mutect2: SNPs + Indel Calling

  outputs:
    - id: output
      description: Output
      type: local-folder
      download: true
      temp: false
